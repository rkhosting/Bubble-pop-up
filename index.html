html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Machine vs Human ‚Äî Futuristic Tic-Tac-Toe</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
<style>
  :root{
    --bg1:#05060a; --bg2:#0f1330;
    --gold1:#ffd86b; --gold2:#ffb84d;
    --accent: #0ea5ff;
    --size:380px;
  }
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;font-family:'Inter',system-ui,Segoe UI,Roboto,Arial;color:#fff;
    background:linear-gradient(180deg,var(--bg1),var(--bg2));
    display:flex;align-items:center;justify-content:center;padding:24px;}
  body::before, body::after{content:"";position:fixed;top:0;width:6px;height:100%;
    background:linear-gradient(#004b8d,#1fb6ff);}
  body::before{left:0;} body::after{right:0;}

  .app{width:min(var(--size),96vw);background:rgba(255,255,255,0.02);
    border-radius:14px;padding:18px;box-shadow:0 12px 40px rgba(0,0,0,0.6);}
  .top {display:flex;align-items:center;justify-content:space-between;margin-bottom:12px;}
  .title{font-weight:800;font-size:16px;display:flex;flex-direction:column}
  .title small{font-weight:600;color:#cfeeff;opacity:0.85}
  .scoreboard{display:flex;gap:10px;align-items:center}
  .score{padding:8px 12px;border-radius:10px;font-weight:700;display:flex;gap:8px;align-items:center}
  .btn{background:linear-gradient(90deg,var(--gold1),var(--gold2));border:none;
    padding:8px 12px;border-radius:10px;color:#2b1720;font-weight:700;cursor:pointer}
  .mode-toggle{background:transparent;border:1px solid rgba(255,255,255,0.3);
    padding:6px 10px;border-radius:8px;color:#fff;cursor:pointer}

  /* Board */
  .board-wrap{padding:12px;border-radius:12px;display:flex;justify-content:center}
  .board{width:100%;max-width:340px;aspect-ratio:1/1;
    display:grid;grid-template-columns:repeat(3,1fr);gap:18px;padding:18px;}
  .cell{background:rgba(10,10,20,0.6);
    border-radius:14px;display:flex;align-items:center;justify-content:center;
    font-size:42px;cursor:pointer;user-select:none;
    border:2px solid transparent;
    background-clip:padding-box;
    position:relative;
    transition:all .25s ease;
    box-shadow:0 0 15px rgba(0,255,255,0.1);
  }
  .cell::before{
    content:"";position:absolute;inset:0;
    border-radius:14px;
    padding:2px;
    background:linear-gradient(135deg,#ff00c8,#00ffe7,#ffd700);
    -webkit-mask:linear-gradient(#fff 0 0) content-box,linear-gradient(#fff 0 0);
    -webkit-mask-composite:xor;mask-composite:exclude;
  }
  .cell:hover{transform:scale(1.07);box-shadow:0 0 25px rgba(255,215,0,0.4);}
  .mark{font-size:40px}
  .human{color:#ffeedd;text-shadow:0 0 12px rgba(255,220,140,0.7)}
  .machine{color:#a0cfff;text-shadow:0 0 14px rgba(100,180,255,0.8)}
  .win{animation:winPulse .9s ease-in-out forwards;box-shadow:0 0 20px gold;}
  @keyframes winPulse{0%{transform:scale(1)}50%{transform:scale(1.08)}100%{transform:scale(1)}}

  /* bin effect */
  .bin{position:absolute;left:50%;transform:translateX(-50%);
    bottom:26px;font-size:30px;opacity:0;}
  .bin.show{animation:binPop 900ms forwards}
  @keyframes binPop{0%{opacity:0;transform:translate(-50%,20px) scale(.6)}
    40%{opacity:1;transform:translate(-50%,0) scale(1.05)}
    80%{transform:translate(-50%,-8px) scale(.95)}
    100%{opacity:0;transform:translate(-50%,-30px) scale(.6)}}

  .ad{margin-top:12px;text-align:center;}
</style>
</head>
<body>
  <div class="app">
    <div class="top">
      <div class="title">
        <h1>Machine vs Human</h1>
        <small>Futuristic gold arena</small>
      </div>
      <div class="scoreboard">
        <div class="score">ü§ñ <span id="machineWins">0</span></div>
        <div class="score">üßë <span id="humanWins">0</span></div>
        <button class="mode-toggle" id="modeBtn">Mode: Single Player</button>
        <button class="btn" id="restartBtn">Restart</button>
      </div>
    </div>

    <div class="board-wrap">
      <div class="board" id="board">
        <div class="cell" data-index="0"></div>
        <div class="cell" data-index="1"></div>
        <div class="cell" data-index="2"></div>
        <div class="cell" data-index="3"></div>
        <div class="cell" data-index="4"></div>
        <div class="cell" data-index="5"></div>
        <div class="cell" data-index="6"></div>
        <div class="cell" data-index="7"></div>
        <div class="cell" data-index="8"></div>
      </div>
    </div>

    <div class="bin" id="bin">üóëÔ∏è</div>

    <!-- Ad unit below board -->
    <div class="ad">
      <script type="text/javascript">
        atOptions = {
          'key' : 'e6f90fa8d6c0a523925893d5668acf3d',
          'format' : 'iframe',
          'height' : 50,
          'width' : 320,
          'params' : {}
        };
      </script>
      <script type="text/javascript" src="https://www.highperformanceformat.com/e6f90fa8d6c0a523925893d5668acf3d/invoke.js"></script>
    </div>
  </div>

<script>
(function(){
  const cells = Array.from(document.querySelectorAll('.cell'));
  const machineWinsEl = document.getElementById('machineWins');
  const humanWinsEl = document.getElementById('humanWins');
  const binEl = document.getElementById('bin');
  const modeBtn = document.getElementById('modeBtn');
  const restartBtn = document.getElementById('restartBtn');

  // ‡§ú‡•Ä‡§§ ‡§™‡§∞ ‡§∏‡§æ‡§â‡§Ç‡§°
  const winSound = new Audio("https://cdn.pixabay.com/download/audio/2025/04/15/audio_981caf755e.mp3?filename=reliable-safe-327618.mp3");

  let board = Array(9).fill(null);
  let current = 'H';
  let gameOver = false;
  let singlePlayer = true;
  let machineWins = 0, humanWins = 0;

  const wins = [[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];

  function render(){
    cells.forEach((cell,i)=>{
      cell.innerHTML = '';
      if(board[i]==='H') cell.innerHTML = '<span class="mark human">üßë</span>';
      if(board[i]==='M') cell.innerHTML = '<span class="mark machine">ü§ñ</span>';
    });
  }

  function checkWin(){
    for(const [a,b,c] of wins){
      if(board[a] && board[a]===board[b] && board[a]===board[c]){
        return {winner: board[a], combo:[a,b,c]};
      }
    }
    if(board.every(Boolean)) return {winner:null};
    return null;
  }

  function handleWin(res){
    gameOver = true;
    if(res.winner==='H'){ humanWins++; humanWinsEl.textContent=humanWins; }
    if(res.winner==='M'){ machineWins++; machineWinsEl.textContent=machineWins; }
    if(res.combo){ res.combo.forEach(i=>cells[i].classList.add('win')); }
    winSound.currentTime=0; winSound.play();  // üéµ ‡§ú‡•Ä‡§§ ‡§ï‡§æ ‡§∏‡§æ‡§â‡§Ç‡§°
    binEl.classList.add('show'); setTimeout(()=>binEl.classList.remove('show'),1000);
    setTimeout(startNewGame,1600);
  }

  function machineMove(){
    if(gameOver) return;
    let idx = board.findIndex(v=>!v);
    if(idx!==-1){ board[idx]='M'; render(); const res=checkWin(); if(res) handleWin(res); }
  }

  function playerMove(i){
    if(gameOver || board[i]) return;
    board[i]=current;
    render();
    const res = checkWin(); if(res) return handleWin(res);
    if(singlePlayer && current==='H'){ current='M'; setTimeout(()=>{machineMove(); current='H';},400); }
    else current=(current==='H'?'M':'H');
  }

  function startNewGame(){
    board = Array(9).fill(null);
    gameOver=false; current='H';
    cells.forEach(c=>c.classList.remove('win'));
    render();
  }

  cells.forEach((c,i)=>c.addEventListener('click',()=>{if(singlePlayer&&current!=='H')return;playerMove(i);}));
  restartBtn.addEventListener('click',startNewGame);
  modeBtn.addEventListener('click',()=>{singlePlayer=!singlePlayer;modeBtn.textContent=singlePlayer?'Mode: Single Player':'Mode: Two Player';startNewGame();});
  render();
})();
</script>
</body>
</html>
